---
layout: page
title: Java言語の基礎
date: 2015-09-18 14:23:43 +0900
purposes:
    - Java言語の基本的な仕組みの理解
---


情報倫理講習会
--------------

担当教員の指示に従って受講し、終了後は「テスト/アンケート」より、情リテ情報倫理テストを受験してください。

*   [情報倫理講習会資料](/lit/infoethics/information_ethics_ja.pdf)


Javaを実行できる環境の準備
--------------

Javaでプログラミングを行う場合、OSがWindowsのパソコンを利用することを仮定しています。
タブレットやMacOSでもプログラミングを学習することはできますが、機種やOSによって手順・内容が変わる可能性がありますので、もしトラブルが生じたら授業担当者にご相談ください。
なお、スマートフォンでもプログラミングをすることは出来ますが、**推奨しません**。

以下に、みなさんのパソコンでプログラミングをするために必要な準備を記載します。
プログラミングを行う場合はインターネット上で無料で使えるサービス（オンライン実行環境）を利用する、ソフトウェアをパソコンにインストールする、のいずれかを行う必要があります。
もしインターネットを常に利用できるなら、オンライン実行環境を使えばすぐにプログラミングを行えます。
もしインターネットへの接続が無くてもプログラミングをしたい場合にはソフトウェアをインストールしてください。

### オンライン実行環境
[paiza.IO](https://paiza.io/ja)は無料でプログラムをすぐに実行できる環境を提供しているサービスです。

無料でプログラミングをインターネット上でできる同様のサービスとして[ideone](https://ideone.com/)もあります。
サービスごとに実行できるプログラミング言語が異なりますので、学習したいプログラミング言語に併せてサービスを選んでください。


### ソフトウェアのインストール
1. EclipseをPleiadesのサイトからダウンロード

    Pleiades  
    https://mergedoc.osdn.jp/  
    上記サイトにアクセスし、最新版の「Eclipse 2020」を選択します。
    ![Install_1](./pic/Java_1.png)

    次に使用しているOSを確かめ、 Java列にある Full Edition をダウンロードします。
    ![Install_2](./pic/Java_2_Win.png)

    ダウンロードしたzipファイルはパスの浅いところに配置します。
    ファイルの展開には7-Zipを用います。zipファイルを右クリックで選択し、7-Zip > ここで展開 
    を選択するとzipファイルが展開できます。
    ![unzip](./pic/Java_4_Win.png)

    7-Zip  
    https://sevenzip.osdn.jp/  
    上記サイトにアクセスし、自身のパソコンに適したものをダウンロードします。
    ![Install_3](./pic/Java_5_Win.png)

    パス（path）はファイルやフォルダの場所を示す情報です。詳細は
    - [パス（path）とは |「分かりそう」で「分からない」でも「分かった」気になれるIT用語辞典](https://wa3.i-3-i.info/word1166.html)

    などを参考にしてください。

2. Eclipseの起動

    先ほど展開したpleiadesフォルダ内にあるeclipseフォルダを開き、eclipse.exeを起動します。

    Eclipseを起動すると次のようなワークスペース選択画面が表示されます。ワークスペースはEclipseの設定フォルダや、その設定を用いた複数のプロジェクト（プログラム）をまとめたものです。参照からユーザーホーム内の適切なフォルダを指定し、ワークスペースを配置します。
    ![Eclipse_1](./pic/Java_18_Win.png)
    ワークスペースを指定したら、Eclipseを起動します。

    Eclipseが起動すると次の画面が表示されます。
    ![Eclipse_2](./pic/Java_6_Win.png)

3. Eclipseの画面構成

    Eclipseの画面は「ビュー」と「エディタ領域」から構成されています。表示されているタブのことをビュー、白紙の領域をエディタ領域といいます。これらの配置などをまとめてパースペクティブと呼びます。
    パースペクティブをJavaプログラミングに適したものにします。
    ウインドウ右上にある ![perspective_1](./pic/Java_11_Win.png)をクリックし、「パースペクティブを開く」ダイアログからJavaを選択し、開くをクリックするとパースペクティブが切り替わります。
    ![perspective_2](./pic/Java_8_Win.png)

    ビューを追加する場合は、ウィンドウ > ビューの表示 から追加したいビューをクリックします。
    削除する場合はそれぞれの削除したいビュータブの上にある×をクリックします。
    ![perspective_3](./pic/Java_10_Win.png)

### プロジェクトファイルの作成と実行
1. プロジェクトの作成

    プロジェクトファイルを作成します。ファイル > 新規 > Javaプロジェクト の順にクリックすると新規Javaプロジェクトのダイアログが表示されます。
    ![JavaProject_1](./pic/Java_12_Win.png)
    プロジェクト名に任意の名前を入力して次へをクリックします。「module-info.javaファイルの作成」のチェックを外し、完了をクリックします。
    ![JavaProject_2](./pic/Java_13_Win.png)
    ![JavaProject_3](./pic/Java_14_Win.png)
    「パッケージ・エクスプローラー」ビューに作成したプロジェクトが表示されます。

2. クラスファイルの作成

    作成したプロジェクトファイル内にあるsrcフォルダにJavaのソースコードを作成します。Javaのソースコードはクラスファイルという形式です。srcフォルダを右クリックし、新規 > クラス を選択すると「新規Javaクラス」ダイアログが表示されます。「名前」の部分に任意のクラス名を入力して完了をクリックするとソースコードが入力できるようになります。
    ![JavaProject_4](./pic/Java_15_Win.png)
    ![JavaProject_5](./pic/Java_16_Win.png)

3. クラスファイルの実行

    ソースコードの入力が完了したら、プログラムを実行します。
    エディタ領域の空白部分かパッケージ・エクスプローラーの実行したいファイル上で右クリックをします。実行 > Javaアプリケーション の順に選択するとコンソールビューに標準出力の結果が表示されます。
    ![JavaProject_6](./pic/Java_17_Win.png)

### 参考サイト
  - [Eclipse、はじめの一歩 - インストールから便利な日本語化プラグインの導入まで](https://employment.en-japan.com/engineerhub/entry/2020/03/19/103000)



最も基本的なプログラム
----------------------

### Hello.java

以下のソースコードを、適当なエディタを用いて入力してみましょう。すべて**半角英数で入力**してください。


*Hello.java*

    public class Hello {
    	public static void main(String[] args) {
    		System.out.println("Hello");
    	}
    }

ファイル名は、**Hello.java**とし、**マイドキュメント**に保存してください。
次に、コマンドプロンプト（ターミナル）を起動しましょう。そして、次のように入力します。

    javac Hello.java

{% screenshot hello01.png "javac Hello.java の入力" %}

うまくできたら、次は以下のように入力します。

    java Hello

{% screenshot hello02.png "java Hello の入力" %}

うまくいくと、以下のように表示されます。

    Hello

{% screenshot hello03.png "Hello の出力" %}

コマンドプロンプト・ターミナルの詳しい使い方は以下を参照してください。

<span class="label label-info">参考資料</span> [コマンドプロンプトの使い方](../../../common/appendix/win_cmd_prompt.html)

<span class="label label-info">参考資料</span> [ターミナルの使い方](../../../common/appendix/mac_terminal.html)


Java言語の基本
--------------

### Java言語とは

Javaは、サン・マイクロシステムズによって開発された、プログラミング言語の一つです。
オブジェクト指向プログラミング言語の一種であり、プラットフォームに依存しないという特徴を持っています。
アプリケーションはもちろん、Webサービスや携帯電話等でも使われています。
サン・マイクロシステムズは、2010年1月27日にオラクルジャパンにより買収されました。

- [オラクル ジャパン](http://www.oracle.com/jp/index.html)

### Java言語の簡単な仕組み

Java言語は、作成したソースコードをコンパイルし、中間コード（バイトコード）を作成します。
その中間コードをJavaVM (Java Virtual Machine)によってインタプリタ型言語として実行されています。
JavaVMを用いることにより、どの環境でもほぼ同様の実行結果を得ることができます。
C言語などのコンパイル型言語と比較すると、Java言語等のインタプリタ型言語は
逐次機械語に翻訳しながら実行されるので、実行速度は遅くなります。

<dl>
<dt>コンパイル</dt>
<dd>ソースコードを、コンピュータが直接実行可能な機械語に翻訳する操作のこと。
この操作を行うソフトウェアの事を<strong>コンパイラ</strong>という。</dd>
<dt>JavaVM (Java Virtual Machine)</dt>
<dd>Java言語を実行するための環境のこと。
これを各環境に移植することにより、すべての環境で同じ動作をさせることができる。</dd>
<dt>インタプリタ</dt>
<dd>ソースコードを逐次機械語に翻訳しながら実行するソフトウェアのこと。</dd>
</dl>

![](./pic/java.png)


Hello.javaの解説 - コンパイルから実行まで
-----------------------------------------

### javac

ソースコードを入力・保存したあと、次のようなコマンドを実行しました。

    javac Hello.java

この `javac` が、**コンパイル**するためのコマンドです。
これにより、中間コードの `Hello.class` が作成されます。

### java

コンパイル後、次のコマンドを実行しました。

    java Hello

これは、コンパイルで作成された中間コード `Hello.class` を実行しています。


Hello.javaの解説 - ソースコード
-------------------------------

### class

さて、先ほど作成した `Hello.java` を見てみましょう。１行目に `public class Hello` と書かれています。
これは、**クラス**と呼ばれるものです。
詳しくはプログラムに慣れてから説明しますが、ひとまず**プログラムの大きなかたまり**と考えてください。
クラス名は**ファイル名と同じ**ものにしましょう。この理由も後々わかるかと思います。
また、習慣として**クラス名の頭文字は大文字**にしています。

### main()

２行目は、`public static void main(String[] args)` となっています。
この**main**と書かれた部分が**メインメソッド**と呼ばれる部分です。
プログラムを実行すると、この後の中括弧 `{ }` の中に書かれていることが**必ず実行**されます。
Javaプログラミングでは、このメインメソッドが**必要**です。プログラムの最も大事な部分になります。

### System.out.println()

３行目は、`System.out.println("Hello.")` となっています。
これは、「ターミナルに文字を出力せよ」という命令です。ですから `java` コマンドで実行すると、ターミナルに "Hello." と表示されます。
よく使うので覚えておきましょう。
`ln` を除くと（つまり、`System.out.println()` を `System.out.print()` とすると）改行をしません。
`ln` を除いたものも実行してみましょう。


練習問題
--------

`System.out.println("Hello")` を `System.out.print("Hello")` に書き換え、動作の違いを確認してみましょう。
また、`System.out.println("Hello")` を参考に、別の文字列を出力させてみましょう。
