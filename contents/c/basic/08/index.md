---
layout: page
title: 構造体
date: 2019-09-03 18:51:00 +0900
purposes:
    - 構造体の使い方の理解
---

構造体
--------------

### 構造体の基本的な使い方

構造体とは、変数や配列を組み合わせとして1つにまとめて扱うための機能です。以下のソースコードを打ち込み、コンパイルして実行してみましょう。

*Structure.c*<br>
![](./pic/Structure.png)

    struct oden{
        int num;
        char name[10];
    };

    void main(){
        struct oden yamada;
        yamada.name[0] = 'e';
        yamada.name[1] = 'g';
        yamada.name[2] = 'g';
        yamada.num = 3;
        printf("yamada君は%sを%d個注文しました。", yamada.name, yamada.num);
    }

実行すると、以下のようになります。

*実行結果*

    yamada君はeggを3個注文しました。

上記の結果のようにyamadaの配列nameと変数numはyamadaのものとして紐付いています。構造体を用いるとこのように構造体内で宣言した変数や配列を関連付けられたものとして扱うことができます。

構造体の作成と宣言は以下のように行います。まず、main関数以外で、構造体を作成し、それをmain関数内で構造体型の変数を宣言して、使えるようにします。

構造体の宣言と生成（１）

    // 構造体の作成
    struct 構造体タグ{
      変数や配列の宣言（通常のやり方と同じ）
    }
    
    void main(){
      // 構造体型変数の宣言
      struct　構造体タグ 構造体の変数名;
      構造体の変数名.構造体の作成で宣言した変数または配列名 ＝ 値;
    }
    
    // 例
    struct oden{
      int num;
    };
    
    void main(){
      struct oden yamada;
      yamada.num = 3;
    }

構造体型変数の宣言は以下のように、1行で宣言することもできます。

構造体の宣言と生成（２）

    データ型 変数名 = {値１,値２,・・・};
    
    // 例
    structure oden yamada = {"egg", 3};

どちらで宣言しても同じです。

![](./pic/structure01.png)



練習問題
--------
1.	大学に在籍している学生を記録するための構造体を定義しましょう。メンバー変数として、氏名・学籍番号・性別を定義しましょう。また、定義した構造体を利用して2名の学生データ（Yamada Taro・8020392・man、Sugiyama Hanako・2940232・woman）を定義しましょう。

2.	企業の顧客情報を管理するための構造体を定義しましょう。メンバー変数として、氏名・性別・年齢・最後に購入した商品番号を定義しましょう。また、定義した構造体を利用して3名の顧客データ（Takashi Yuu・man・32・1、Suzuki takashi・man・18・3、Tanaka Mari・woman・24・2）を定義しましょう。

3.	長方形を表す構造体を定義しましょう。メンバー変数として、長さ・幅を定義しましょう。また定義した構造体を利用して様々な長方形データを定義しましょう。

4.	乗り物を表す構造体を定義しましょう。メンバー変数として、車輪の数・車体の色番号・フロントガラスの有無を表す数字を定義しましょう。また定義した構造体を利用して様々な乗り物データを定義しましょう。

5.	ハンバーガーを表す構造体を定義しましょう。どのようなメンバー変数を定義すれば良いのかを考え、その定義を利用したハンバーガーデータを定義しましょう。

6.	モバイル端末を表す構造体を定義しましょう。どのようなメンバー変数を定義すれば良いのかを考え、その定義を利用したモバイル端末データを定義しましょう。
