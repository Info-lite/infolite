---
layout: page
title: 関数
date: 2019-09-03 18:51:00 +0900
purposes:
    - 関数の使い方の理解
---

関数
--------------

### 関数の基本的な使い方

まず、以下のソースコードを打ち込み、コンパイルして実行してみましょう。

*Function.c*<br>

    #include<stdio.h>

    void myprint(){
        printf("これはmyprintの実行結果です。");
    }

    void main(){
        myprint();
    }

実行すると、以下のようになります。

*実行結果*

    これはmyprintの実行結果です。

複雑な命令を単純化させたい場合や、複数の命令をまとめた名前を付けたい場合、繰り返し同じ処理を実行させたい場合、関数を使うと便利です。


関数の定義

    返戻値の型 関数名(引数){
      //プログラム
    }

### 返戻値の書き方

返戻値とは、関数を実行した結果のことです。関数を定義するとき、最初に返戻値の型を記載します。例えば、`m`個の中から`n`個を取り出す組み合わせ`mCn`を計算する関数`comb`を定義するとしましょう。組み合わせを計算するためには階乗(`n!`)を3回計算する必要があるので、関数`kaijou`を定義し、`comb`の中でそれらの結果を利用しましょう。このように、`kaijou`のような関数の実行結果を返戻する場合には、関数の最後に`return`と返戻するものを書き、返戻するものの型を関数定義の最初に書きます。以下に`kaijou`を利用する`comb`の例を示します。

*Comb.c*<br>

    #include<stdio.h>

    int kaijou(int n){
        int i;
        int sum = 0;
        for(i=1;i<=n;i++){
          sum = sum + i;
        }
        return sum
    }

    void comb(int m, int n){
        int v1 = kaijou(m);
        int v2 = kaijou(n);
        int v3 = kaijou(m-n);
        return v1 / (v2*v3);
    }

もし最初のの例の`myprint`のように、関数の実行結果を利用しない場合、返戻値の型のところには`void`と書き、関数の最後の`return`は省略します。

### 引数の書き方

引数は、定義している関数を実行する際に必要なものを記載します。例えば、階乗(`n!`)を計算する関数`kaijou`を定義するためにはint型の数値`n`が必要なので、この関数の引数として`int n`を書きます。引数は0個でも2個以上でも良く、配列・構造体・ポインタも使えます。


### いろいろな引数の書き方

*Argument.c*<br>

    #include<stdio.h>

    int add3(int n){
      return n+3;
    }

    float ave(float m, float n){
      return (m+n)/2.0;
    }

    int sum5(int a[5]){
      return a[0]+a[1]+a[2]+a[3]+a[4];
    }

    int* pnt(int* p){
      return p+1;
    }


### プロトタイプ宣言

C言語はファイルを上から下に向けて順次処理します。複数の関数を定義すると、他の関数を実行するような関数を定義する状況も生じますが、その他の関数をファイルの上方で定義しておく必要があります。このような状況では、記述の順番を変更できると便利になることがあります。C言語は、関数の返戻値の型・関数名・引数のみをファイルの先頭に記載する**プロトタイプ宣言**を行うことによって、ファイルの下方にある関数を実行することができます。以下のプログラムはプロトタイプ宣言を使った例です。

*Prototype.c*<br>

    #include<stdio.h>
    int one();

    void main(){
      int x = one();
      printf("%x=¥d\n",x);
    }

    int one(){
      return 1;
    }





練習問題
--------
1.	2つの数を引数として与えると，その和を返す関数two_sumを定義しましょう．

2.	2つの数を引数として与えると，その平均を返す関数two_aveを定義しましょう．

3.	2つの数を引数として与えると，大きい方の数を返す関数two_maxを定義しましょう．

4.	2つの数を引数として与えると，小さい方の数を返す関数two_minを定義しましょう．

5.	3つの数を引数として与えると，それらの和を返す関数three_sumを定義しましょう．

6.	3つの数を引数として与えると，それらの平均を返す関数three_aveを定義しましょう．

7.	3つの数を引数として与えると，その中から最も大きい数を返す関数three_maxを定義しましょう．

8.	3つの数を引数として与えると，その中から最も小さい数を返す関数three_minを定義しましょう．

9.	5つの数を引数として与えると，その中から最も大きい数を返す関数five_maxを定義しましょう．

10.	5つの数を引数として与えると，その中から最も小さい数を返す関数five_minを定義しましょう．

11.	1つの文字を引数として与えると，大文字なら小文字へ，小文字なら大文字を返す関数char_castを定義しましょう．

12.	配列を引数として与えると，それら全ての和を返す関数sumを定義しましょう．

13.	配列を引数として与えると，それら全ての平均を返す関数aveを定義しましょう．

14.	配列を引数として与えると，それらの中から最も大きい数を返す関数maxを定義しましょう．

15.	配列を引数として与えると，それらの中から最も小さい数を返す関数minを定義しましょう．

16.	配列を引数として与えると，それらを小さい順に並べた配列を返す関数を定義しましょう．

17.	配列を引数として与えると，それらを大きい順に並べた配列を返す関数を定義しましょう．

18.	1からnまでの総和を，繰り返し処理（while文，for文）を使わず，関数呼び出しだけを使用して求めましょう．

19.	与えられた2 つの正の整数n1，n2 の最大公約数を求めるプログラムを作成してください．ユークリッドの互除法を利用して良い．
