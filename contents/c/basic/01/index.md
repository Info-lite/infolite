---
layout: page
title: C言語の基礎
date: 2015-09-18 14:23:43 +0900
purposes:
    - C言語の基本的な仕組みの理解
---

情報倫理講習会
--------------

担当教員の指示に従って受講し、終了後は「テスト/アンケート」より、情リテ情報倫理テストを受験してください。

*   [情報倫理講習会資料](/lit/infoethics/information_ethics_ja.pdf)


C言語を実行できる環境の準備
--------------

C言語でプログラミングを行う場合、OSがWindowsのパソコンを利用することを仮定しています。
タブレットやMacOSでもプログラミングを学習することはできますが、機種やOSによって手順・内容が変わる可能性がありますので、もしトラブルが生じたら授業担当者にご相談ください。
なお、スマートフォンでもプログラミングをすることは出来ますが、**推奨しません**。

以下に、みなさんのパソコンでプログラミングをするために必要な準備を記載します。
プログラミングを行う場合はインターネット上で無料で使えるサービス（オンライン実行環境）を利用する、ソフトウェアをパソコンにインストールする、のいずれかを行う必要があります。
もしインターネットを常に利用できるなら、オンライン実行環境を使えばすぐにプログラミングを行えます。
もしインターネットへの接続が無くてもプログラミングをしたい場合にはソフトウェアをインストールしてください。

### オンライン実行環境
[paiza.IO](https://paiza.io/ja)は無料でプログラムをすぐに実行できる環境を提供しているサービスです。

無料でプログラミングをインターネット上でできる同様のサービスとして[ideone](https://ideone.com/)もあります。
サービスごとに実行できるプログラミング言語が異なりますので、学習したいプログラミング言語に併せてサービスを選んでください。

### Windows PCへのソフトウェア（MinGW）のインストール

以下のファイルをダウンロードし、**マイドキュメント**に保存してください。  

-   [MinGWインストールファイル](https://osdn.net/projects/mingw/downloads/68260/mingw-get-setup.exe/)

[このサイト](https://webkaru.net/clang/mingw-gcc-install/)を参考に、GCCのインストールを行ってください。

もしインストールが上手くできない場合、今日の授業では[Ideone](https://ideone.com/)を使いましょう。MinGWはなるべく次回の授業までにインストールして来てください。インストールできるまではIdeoneを補助的に利用してください。

#### パスの設定

インストールしたMinGWを実行するためには**パス**の設定を行う必要があります。

以下のファイルをダウンロードし、**マイドキュメント**に保存してください。  
次に、コマンドプロンプト（ターミナル）を起動しましょう。

-   [パス設定用ファイル](http://www.ysumi.sakura.ne.jp/tmu_info_lite_c/basic/01/init.bat)

そして、次のように入力します。

```
init
```

最も基本的なプログラム
----------------------

### Hello.c

以下のソースコードを、適当なエディタを用いて入力してみましょう。すべて**半角英数で入力**してください。


*Hello.c*

    #include <stdio.h>
        void main() {
       	    printf("Hello.\n");
        }




ファイル名は、**Hello.c**とし、**マイドキュメント**に保存してください。
次に、コマンドプロンプト（ターミナル）を起動しましょう。そして、次のように入力します。


    gcc Hello.c

{% screenshot hello01_c.png "gcc Hello.c の入力" %}

うまくできたら、次は以下のように入力します。

    a.exe

{% screenshot hello02_c.png "a.exe の入力" %}

うまくいくと、以下のように表示されます。

    Hello

コマンドプロンプト・ターミナルの詳しい使い方は以下を参照してください。

<span class="label label-info">参考資料</span> [コマンドプロンプトの使い方](../../../common/appendix/win_cmd_prompt.html)

<span class="label label-info">参考資料</span> [ターミナルの使い方](../../../common/appendix/mac_terminal.html)

C言語の基本
--------------

### C言語とは


### C言語の簡単な仕組み

C言語は、作成したソースコードをコンパイルし、バイトコードを作成するコンパイル型言語です。
作成されたバイトコードを実行すると作成したプログラムの結果を確認できます。


<dl>
<dt>コンパイル</dt>
<dd>ソースコードを、コンピュータが直接実行可能な機械語に翻訳する操作のこと。
この操作を行うソフトウェアの事を<strong>コンパイラ</strong>という。</dd>
<dt>インタプリタ</dt>
<dd>ソースコードを逐次機械語に翻訳しながら実行するソフトウェアのこと。</dd>
</dl>

![](./pic/c.png)

Hello.cの解説 - コンパイルから実行まで
-----------------------------------------

### gcc

ソースコードを入力・保存したあと、次のようなコマンドを実行しました。

    gcc Hello.c

この `gcc` が、**コンパイル**するためのコマンドです。
これにより、バイトコードの `a.exe` が作成されます。

### a.exe

コンパイル後、次のコマンドを実行しました。

    ./a.exe

これは、コンパイルで作成されたバイトコード `a.exe` を実行しています。


Hello.cの解説 - ソースコード
-------------------------------

### include

さて、先ほど作成した `Hello.c` を見てみましょう。１行目に `#include <stdio.h>` と書かれています。
これは、`stdio.h`という名前の**ヘッダーファイル**を読み込むものです。
詳しくはプログラムに慣れてから説明しますが、ひとまず**Cプログラムを実行するために必要な命令**と考えてください。
少し直感的な説明をすると、`Hello`などの文字を表示するために必要なファイルです。

### main()

２行目は、`void main()` となっています。
この**main**と書かれた部分が**メイン関数**と呼ばれる部分です。
プログラムを実行すると、この後の中括弧 `{ }` の中に書かれていることが**必ず実行**されます。
Cプログラミングでは、このメイン関数が**必要**です。プログラムの最も大事な部分になります。

### printf()

３行目は、`printf("Hello.\n")` となっています。
これは、「ターミナルに文字を出力せよ」という命令です。ですから `./a.exe` を実行すると、ターミナルに "Hello." と表示されます。
よく使うので覚えておきましょう。
`\n` を除くと（つまり、`printf("Hello.\n")`を`printf("Hello.")` とすると改行をしません。
`\n` を除いたものも実行してみましょう。


練習問題
--------

`printf("Hello\n")` を `printf("Hello")` に書き換え、動作の違いを確認してみましょう。
また、`printf("Hello\n")` を参考に、別の文字列を出力させてみましょう。
