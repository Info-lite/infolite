---
layout: page
title: C言語の基礎
date: 2015-09-18 14:23:43 +0900
purposes:
    - C言語の基本的な仕組みの理解
---

情報倫理講習会
--------------

担当教員の指示に従って受講し、終了後は「テスト/アンケート」より、情リテ情報倫理テストを受験してください。

*   [情報倫理講習会資料](/lit/infoethics/information_ethics_ja.pdf)
*   [情報倫理講習会資料(英語版)](/lit/infoethics/information_ethics_en.pdf)


C言語を実行できる環境の準備
--------------

C言語でプログラミングを行う場合、OSがWindowsのパソコンを利用することを仮定しています。
タブレットやMacOSでもプログラミングを学習することはできますが、機種やOSによって手順・内容が変わる可能性がありますので、もしトラブルが生じたら授業担当者にご相談ください。
なお、スマートフォンでもプログラミングをすることはできますが**推奨しません**。

以下に、みなさんのパソコンでプログラミングをするために必要な準備を記載します。
プログラミングを行う場合はインターネット上で無料で使えるサービス（オンライン実行環境）を利用する、ソフトウェアをパソコンにインストールする、のいずれかを行う必要があります。
もしインターネットを常に利用できるなら、オンライン実行環境を使えばすぐにプログラミングを行えます。
もしインターネットへの接続が無くてもプログラミングをしたい場合にはソフトウェアをインストールしてください。

どの環境で学習するべきかは、授業担当者の指示に従ってください。

### オンライン実行環境
[paiza.IO](https://paiza.io/ja)は無料でプログラムをすぐに実行できる環境を提供しているサービスです。

無料でプログラミングをインターネット上でできる同様のサービスとして[ideone](https://ideone.com/)もあります。
サービスごとに実行できるプログラミング言語が異なりますので、学習したいプログラミング言語に併せてサービスを選んでください。

### Windows PCへインストールする実行環境

情報処理教室では、C言語の実行環境として、MinGWとVisual Studioがインストールされています。教室によってインストールされているソフトウェアが異なりますので、詳細はTMUNERを確認してください。
<br />

#### ①MinGWのインストール

以下のファイルをダウンロードし、**マイドキュメント**に保存してください。  

-   [MinGWインストールファイル](https://osdn.net/projects/mingw/downloads/68260/mingw-get-setup.exe/)

[このサイト](https://webkaru.net/clang/mingw-gcc-install/)を参考に、GCCのインストールを行ってください。


##### パスの設定

インストールしたMinGWを実行するためには**パス**の設定を行う必要があります。

以下のファイルをダウンロードし、**マイドキュメント**に保存してください。  
次に、コマンドプロンプト（ターミナル）を起動しましょう。

-   [パス設定用ファイル](/lit/contents/c/basic/01/init.bat)

そして、次のように入力します。

```
init
```
<br />

#### ②Visual Studio Communityのインストール

Visual Studioは、Microsoftが開発したシステム開発のためのソフトウェアです。Visual Studioは通常は有償のソフトウェアですが、Microsoftでは無償利用できる[Visual Studio Community](https://visualstudio.microsoft.com/ja/vs/community/)を配布しています。有償版と比べて、利用の条件などの制約がありますが、個人で学習するためには、無償版のVisual Studio Communityで十分足りると考えられます。
以下のVisual Studio Communityを利用する場合は、以下の参考資料を参考にインストールしてみてください。

-   [[参考資料]Visual Studio Communityのインストール](../../appendix/Install_VSC.html)

最も基本的なプログラム
----------------------

### Hello.c

以下のソースコードを、適当なエディタ(メモ帳や秀丸、Tera Padなど)を用いて入力してみましょう。すべて**半角英数で入力**してください。

*Hello.c*

    #include <stdio.h>
        void main() {
       	    printf("Hello.\n");
        }

ファイル名は、**Hello.c**とし、**マイドキュメント**に保存してください。
<br />

#### ①オンライン実行環境を利用する場合

オンライン実行環境で実行する場合は、利用しているオンライン実行環境に**Hello.c**の内容をコピーアンドペーストし、ウェブサイトの指示に従って実行してみましょう。
<br />

#### ②MinGWを利用する場合

MinGWを利用する場合は、コマンドプロンプト（ターミナル）を起動しましょう。

**Hello.c**を保存したフォルダへ移動し、次のように入力し、[Enter]キーを押します。

    gcc Hello.c

{% screenshot hello01_c.png "gcc Hello.c の入力" %}

実行に成功したら、a.exeが生成されますので、次は以下のように入力し、[Enter]キーを押します。

    a.exe

{% screenshot hello02_c.png "a.exe の入力" %}

実行に成功したら、以下のように表示されます。

    Hello
<br />

#### ③Visual Studio または Visual Studio Communityを用いる場合

Visual Studio または Visual Studio Communityを用いる場合は開発者コマンドプロンプト(または、Developer Coommand Prompt for VS)を起動しましょう。

Hello.cを保存したフォルダへ移動し、次のように入力し、[Enter]キーを押します。

    cl Hello.c

{% screenshot hello03_c.png "cl Hello.c の入力" %}

実行に成功したら、Hello.exeが生成されますので、次は以下のように入力し、[Enter]キーを押します。

    Hello.exe

{% screenshot hello04_c.png "Hello.exe の入力" %}

実行に成功したら、以下のように表示されます。

    Hello

コマンドプロンプト・ターミナルの詳しい使い方は以下を参照してください。

<span class="label label-info">参考資料</span> [コマンドプロンプトの使い方](../../../common/appendix/win_cmd_prompt.html)

<span class="label label-info">参考資料</span> [ターミナルの使い方](../../../common/appendix/mac_terminal.html)

C言語の基本
--------------

### C言語とは


### C言語の簡単な仕組み

C言語は、作成したソースコードをコンパイルし、バイトコードを作成するコンパイル型言語です。
作成されたバイトコードを実行すると作成したプログラムの結果を確認できます。

プログラミング言語の中には、コンパイル型言語の他にバイトコードを作成して実行するわけではないインタプリタ型言語があります。

<dl>
<dt>コンパイル</dt>
<dd>ソースコードを、コンピュータが直接実行可能な機械語に翻訳する操作のこと。
この操作を行うソフトウェアの事を<strong>コンパイラ</strong>という。</dd>
<dt>インタプリタ</dt>
<dd>ソースコードを逐次機械語に翻訳しながら実行するソフトウェアのこと。</dd>
</dl>


Hello.cの解説 - コンパイルから実行まで
-----------------------------------------

### コンパイル(gccやcl)

ソースコードを入力・保存したあと、次のようなコマンドを実行しました。

    gcc Hello.c
    cl Hello.c

以上の `gcc` や `cl` が、**コンパイル**するためのコマンドです。
これにより、バイトコードの `a.exe` や `Hello.exe` が作成されます。

### バイトコードの実行

コンパイル後、次のコマンドを実行しました。

    a.exe
    Hello.exe

これは、コンパイルで作成されたバイトコード `a.exe` および `Hello.exe` を実行しています。


Hello.cの解説 - ソースコード
-------------------------------

### include

さて、先ほど作成した `Hello.c` を見てみましょう。１行目に `#include <stdio.h>` と書かれています。
これは、`stdio.h`という名前の**ヘッダーファイル**を読み込むものです。
詳しくはプログラムに慣れてから説明しますが、ひとまず**Cプログラムを実行するために必要な命令**と考えてください。
少し直感的な説明をすると、`Hello`などの文字を表示するために必要なファイルです。

### main()

２行目は、`void main()` となっています。
この**main**と書かれた部分が**メイン関数**と呼ばれる部分です。
プログラムを実行すると、この後の中括弧 `{ }` の中に書かれていることが**必ず実行**されます。
Cプログラミングでは、このメイン関数が**必要**です。プログラムの最も大事な部分になります。

### printf()

３行目は、`printf("Hello.\n")` となっています。
これは、「ターミナルに文字を出力せよ」という命令です。ですから `./a.exe` を実行すると、ターミナルに "Hello." と表示されます。
よく使うので覚えておきましょう。
`\n` を除くと（つまり、`printf("Hello.\n")`を`printf("Hello.")` とすると改行をしません。
`\n` を除いたものも実行してみましょう。


練習問題
--------

`printf("Hello\n")` を `printf("Hello")` に書き換え、動作の違いを確認してみましょう。
また、`printf("Hello\n")` を参考に、別の文字列を出力させてみましょう。
